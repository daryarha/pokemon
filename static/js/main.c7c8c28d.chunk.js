(this["webpackJsonppokemon-test"]=this["webpackJsonppokemon-test"]||[]).push([[0],{29:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(17),i=n.n(c),o=n(7),s=n(2),r=n(1),l=n.n(r),m=n(8),d=function(e){var t=e.header,n=e.name,c=e.image,i=e.description;return Object(a.jsxs)("div",{className:"card",children:[Object(a.jsxs)(o.b,{to:"/pokemon/detail/".concat(n),children:[Object(a.jsx)("div",{className:"card-header",children:t}),Object(a.jsx)("amp-img",{layout:"responsive",height:"200",width:"200",src:c,alt:n}),Object(a.jsx)("div",{className:"overlay",children:Object(a.jsx)("button",{className:"btn-detail",children:"Detail"})})]}),Object(a.jsx)("div",{className:"card-description",children:i})]})};function u(e){return e.charAt(0).toUpperCase()+e.slice(1)}var j,h={},b=function(){var e=Object(r.useState)([]),t=Object(m.a)(e,2),n=t[0],c=t[1],i=JSON.parse(localStorage.getItem("myPokemon"))||[],o=JSON.parse(localStorage.getItem("pokemonId"))||[],s=JSON.parse(localStorage.getItem("countOwned"))||[];Object(r.useEffect)((function(){var e=[],t=[];i.forEach((function(n,a){if(e.findIndex((function(e){return e===n.id}))>=0){var c=e.findIndex((function(e){return e===n.id}));t[c]+=1}else e.push(n.id),t.push(1)})),localStorage.setItem("pokemonId",JSON.stringify(e)),localStorage.setItem("countOwned",JSON.stringify(t)),fetch("https://graphql-pokeapi.vercel.app/api/graphql",{credentials:"omit",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"query pokemons($limit: Int, $offset: Int) {\n    pokemons(limit: $limit, offset: $offset) {\n      results {\n        id\n        url\n        name\n        image\n      }\n    }\n  }",variables:h}),method:"POST"}).then((function(e){return e.json()})).then((function(e){return c(e.data.pokemons.results)}))}),[]),document.title="Pokemon List Card | Pokemon";var j=function(e){if(o.findIndex((function(t){return t===e}))>=0){var t=o.findIndex((function(t){return t===e})),n=s[t];return Object(a.jsxs)(l.a.Fragment,{children:["Total owned: ",n]})}return Object(a.jsx)(l.a.Fragment,{children:"Total owned: 0"})};return Object(a.jsx)("div",{className:"cards",children:n.map((function(e){return Object(a.jsx)(d,{header:Object(a.jsxs)(l.a.Fragment,{children:[u(e.name)," #",e.id]}),description:j(e.id),name:e.name,image:e.image},e.name)}))})},p=n(10),f=n.n(p),O=n.p+"static/media/favicon2.ee99e560.ico",v=function(e){var t=e.title,n=e.value;return Object(a.jsxs)("div",{className:"attribute",children:[Object(a.jsx)("div",{className:"card-attribute-title",children:t}),Object(a.jsx)("div",{className:"card-attribute-value",children:n})]})},g=function(){var e=Object(r.useState)([]),t=Object(m.a)(e,2),n=t[0],c=t[1],i=Object(r.useState)(JSON.parse(localStorage.getItem("myPokemon"))||[]),o=Object(m.a)(i,2),l=o[0],d=o[1],h=Object(s.e)().pokemonName;j={name:h},Object(r.useEffect)((function(){try{localStorage.setItem("myPokemon",JSON.stringify(l))}catch(e){console.log(e)}}),[l]);Object(r.useEffect)((function(){fetch("https://graphql-pokeapi.vercel.app/api/graphql",{credentials:"omit",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"query pokemon($name: String!) {\n    pokemon(name: $name) {\n      id\n      name\n      weight\n      height\n      base_experience\n      sprites {\n        front_default\n      }      \n    \tabilities {\n        ability {\n          name\n        }\n      }\n      moves {\n        move {\n          name\n        }\n      }\n      types {\n        type {\n          name\n        }\n      }\n    }\n  }",variables:j}),method:"POST"}).then((function(e){return e.json()})).then((function(e){return c(e.data.pokemon)}))}),[]);var b,p,g=u(h);return n.id&&(b=n.id),n.sprites&&(p=n.sprites.front_default),document.title="".concat(g," | Pokemon"),Object(a.jsxs)("div",{className:"base-detail",children:[Object(a.jsx)("br",{}),g," ",Object(a.jsxs)("span",{className:"number",children:["#",n.id]}),Object(a.jsxs)("div",{className:"container-detail",children:[Object(a.jsx)("div",{className:"slot-image",children:Object(a.jsx)("img",{width:"100%",src:n.sprites&&n.sprites.front_default,alt:g})}),Object(a.jsxs)("div",{className:"slot-detail",children:[Object(a.jsxs)("div",{className:"card-attribute",children:[Object(a.jsx)(v,{title:"Height",value:"".concat(10*n.height," cm")}),Object(a.jsx)(v,{title:"Weight",value:"".concat(n.weight/10," kg")}),Object(a.jsx)(v,{title:"Base Experience",value:n.base_experience}),Object(a.jsx)(v,{title:"Type",value:n.types&&n.types.map((function(e){return Object(a.jsx)("div",{children:u(e.type.name.replace("-"," "))},e.type.name)}))}),Object(a.jsx)(v,{title:"Abilities",value:n.abilities&&n.abilities.map((function(e){return Object(a.jsx)("div",{children:u(e.ability.name.replace("-"," "))},e.ability.name)}))})]}),Object(a.jsxs)("button",{className:"btn-catch",onClick:function(){var e=Math.random()<.5,t=e?"success":"error",n=e?"You catch the ".concat(g,"!"):"The ".concat(g," run away!"),a=e?"Give your new pokemon a name!":"",c=!!e&&"text";f.a.fire({title:n,text:a,input:c,icon:t,inputValidator:function(e){return new Promise((function(t){e?(l.forEach((function(n){n.nickname===e&&n.id===b&&t("Name already exist! <br/> Give another name")})),t()):t("You need to give a name!")}))},showCancelButton:!0,showConfirmButton:e,confirmButtonColor:"#3085d6",confirmButtonText:"Save pokemon!"}).then((function(e){e.isConfirmed&&(!function(e){var t={nickname:e,id:b,name:h,image:p};d(l?l.concat(t):t)}(e.value),f.a.fire("New pokemon has been saved!","Go to my pokemon page for detail!","success"))}))},children:["Catch Pokemon",Object(a.jsx)("amp-img",{height:"28",width:"28",class:"img-pokeball",src:O,alt:"pokeball"})]})]})]}),Object(a.jsxs)("div",{className:"card-moves",children:["List of ",g," Moves",Object(a.jsx)("div",{className:"list-moves",children:n.moves&&n.moves.map((function(e){return Object(a.jsx)("div",{className:"btn-move",children:u(e.move.name.replace("-"," "))},e.move.name)}))})]})]})},x=function(){var e=Object(r.useState)(JSON.parse(localStorage.getItem("myPokemon"))||[]),t=Object(m.a)(e,2),n=t[0],c=t[1];document.title="My Pokemon Card | Pokemon",Object(r.useEffect)((function(){try{localStorage.setItem("myPokemon",JSON.stringify(n))}catch(e){console.log(e)}}),[n]);return n.length||f.a.fire({title:"You dont have any pokemon at the moment",html:"Catch the pokemon in the list page",icon:"info"}),Object(a.jsx)("div",{className:"cards",children:n.map((function(e,t){return Object(a.jsx)(d,{header:Object(a.jsxs)(l.a.Fragment,{children:[u(e.name)," #",e.id,Object(a.jsx)("br",{}),"Nickname: ",e.nickname]}),description:Object(a.jsxs)("button",{className:"btn-catch",onClick:function(){return a=t,i=e.name,o=e.nickname,void f.a.fire({title:"You are about to <br/> release a pokemon",html:"Pokemon you are going to release is <br/> <b>".concat(o,"</b> the <b>").concat(i,"</b> <br/> Are you sure about this?"),icon:"warning",showCancelButton:!0,showDenyButton:!0,showConfirmButton:!1,denyButtonText:"Release pokemon!"}).then((function(e){e.isDenied&&(c(n.slice(0,a).concat(n.slice(a+1,n.length))),f.a.fire("A pokemon has been released!","Go catch a new pokemon in list page","success"))}));var a,i,o},children:["Release",Object(a.jsx)("amp-img",{class:"img-pokeball",src:O,alt:"pokeball",height:"15",width:"15"})]}),name:e.name,image:e.image},e.nickname+e.id)}))})},k=function(){return document.title="Pokemon List Card | Pokemon",Object(a.jsx)(o.a,{children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("nav",{children:Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:Object(a.jsx)(o.c,{exact:!0,to:"/pokemon/",className:"nav-item",children:"Pokemon List Card"})}),Object(a.jsx)("li",{children:Object(a.jsx)(o.c,{to:"/pokemon/my",className:"nav-item",children:"My Pokemon Card"})})]})}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{className:"content",children:[Object(a.jsx)(s.a,{exact:!0,path:"/pokemon/",component:b}),Object(a.jsx)(s.a,{path:"/pokemon/my",component:x}),Object(a.jsx)(s.a,{path:"/pokemon/detail/:pokemonName",component:g})]})]})})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,30)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),i(e),o(e)}))};i.a.render(Object(a.jsx)(k,{}),document.getElementById("root")),y(console.log)}},[[29,1,2]]]);
//# sourceMappingURL=main.c7c8c28d.chunk.js.map